---
Description: "This template creates necessary resources used while operating on NetworkInsights Path"
Resources:
  CanaryVpc:
    Type: AWS::EC2::VPC
    Properties:
      CidrBlock: 10.0.0.0/16

  CanarySubnet:
    Type: AWS::EC2::Subnet
    Properties:
      CidrBlock: 10.0.0.0/20
      VpcId: !Ref CanaryVpc

  Source:
    Type: AWS::EC2::NetworkInterface
    Properties:
      SubnetId: !Ref CanarySubnet

  Destination:
    Type: AWS::EC2::NetworkInterface
    Properties:
      SubnetId: !Ref CanarySubnet

Outputs:
  CanarySource:
    Value: !Ref Source
    Export:
      Name: CanarySource

  CanaryDestination:
    Value: !Ref Destination
    Export:
      Name: CanaryDestination